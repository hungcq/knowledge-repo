# Technologies
- REST API definition:
  - Open API (openapis.org): most popular IDL:
  - Swagger project: set of tools for dev & documenting API, including tools to generate client stubs & server skeletons from an interface def
- RPC techs:
  - REST:
    - IPC mechanism that mostly uses HTTP
    - Characteristics:
      - Resource: represent a single or a collection of business objects
      - Use HTTP verbs for manipulating a resource (referenced using a URL)
    - REST maturity model:
      - Level 2: use HTTP verbs to perform actions: GET, POST, PUT
      - Level 3: representation of a resource returned by GET request contains link for performing actions on the resource
      - -> Don't have to hard-wire URLs into client code
    - Difficulties:
      - Fetch multiple resources in a single request
      - -> Use alternative API technologies (eg GraphQL, Netflix Falcor)
      - Map operations to HTTP verbs (eg dif types of update operations on the same resource)
  - gRPC:
    - Binary-message based protocol: use Protocol Buffer as message format
    - Use protobuf compiler to generate client-side stubs & server-side skeletons
    - Communication tech: HTTP/2
    - Bidirectional streaming features enable both RPC & messaging
- Service discovery:
  - Eureka: highly available service registry
  - Ribbon: HTTP client that supports Eureka client
- Brokerless messaging: ZeroMQ (zeromq.org)
- Transaction log tailing:
  - Debezium: publishes DB changes to Kafka
  - LinkedIn Databus: mine Oracle trans log & publishes change as events
  - DynamoDB streams
  - Eventuate Tram: use MySQL biglog/Postgres WAL/polling to read from outbox table & publish to Kafka
- Event sourcing event store frameworks:
  - Event Store (eventstore.org): .NET
  - Lagom
  - Axon: Java, include CQRS
  - Eventuate
- API gateway:
  - Off-the-shelf product: AWS API gateway, Kong, Traefik
  - Framework to dev your own: Netflix Zuul, Spring cloud gateway
  - Graph-based techs:
    - Advs: flexible queries, less dev effort
    - <img src="./resources/8.9.png" alt="drawing" width="500"/>
    - GraphQL: standard, available in many languages. Apollo graphQL: popular Node implementation
    - Netflix Falcor: implementation
- Authentication & authorization:
  - Framework:
    - Spring Security, Apache Shiro: Java
    - Passport: Node
  - Json Web Token (JWT): popular standard for transparent token:
    - Function: securely represent claims (eg user identity & roles) between 2 parties
    - Consists of:
      - Payload: Json object containing user info (eg identity & roles)
      - Other metadata (eg expiration date)
      - Signed secret: only known to the creator of the JWT & recipient services
      - -> Prevent third party from tampering with the JWT
  - OAuth 2.0: authentication protocol originally designed to authorize a third party app without revealing its password:
    - Flows:
      - API client flow:
        - <img src="./resources/11.4.png" alt="drawing" width="500"/>
      - Login-based client flow:
        - <img src="./resources/11.5.png" alt="drawing" width="500"/>
    - Refresh token steps:
      - API gateway obtains a new access token: make an OAuth 2.0 Refresh Grant request with the refresh token to the authen (OAuth) server
      - Authen server returns a new access token if the refresh token hasn't expired or revoked
      - API gateway passes the new access token to the services & return it to the client
    - Advs:
      - Proven security standard
      - Save dev time: don't have to dev security infra (authentication & role management)
- Logging infra:
  - ELK stack (popular)
    - Elastic search: text-search oriented NoSQL DB -> used as logging server
    - Logstash: log pipeline that aggregates the service logs & writes to Elastic search
    - Kibana: visualization tool for Elastic search
  - Other log pipelines: Fluentd, Apache Flume
- Distributed tracing:
  - B3: common standard for propagating trace info
  - Distributed tracing server: Open Zipkin, AWS X-ray
- Application metric:
  - Prometheus: popular open source monitoring & alerting system. Use pull model.
  - Grafana: data visualization tool, can work with Prometheus. Can set up alerts for metrics.
- Exception tracking:
  - Honeybadger: cloud-based service
  - Sentry.io: have both cloud-based version and open source version to deploy on your own infra
- Microservice chassis frameworks:
  - Java: Spring Boot, Spring Cloud
  - Golang: Go Kit, Micro
- Service mesh: Istio, Linkerd, Conduit
- VM deployment:
  - Animator: EC2 AMI VM builder
  - Packer (packer.io): modern VM image builder, support many virtualization techs (eg EC2, Digital Ocean, Virtual Box, VMware)
  - Elastic Beanstalk: modern way to deploy services as VM on AWS
- Testing:
  - Mockito: popular mock object framework for Java
  - Consumer driven contract test:
    - Spring Cloud Contract: for Spring
    - Pact frameworks: available in many languages
  - Gherkin: DSL for writing executable specifications
  - Cucumber: test automation framework for Gherkin
- Docker Compose: tool which allows the definition of a set of containers, then starts & stops them as a unit 